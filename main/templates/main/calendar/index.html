{% extends "base_main.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %}
Kliens {{client.name}}
{% endblock %}


{% block content %}

<div class="nk-content ">
    <div class="container-fluid">
        <div class="nk-content-inner">
            <div class="nk-content-body">
                <div class="nk-block-head nk-block-head-sm">
                    <div class="nk-block-between">
                        <div class="nk-block-head-content">
                            <h3 class="nk-block-title page-title">Calendar</h3>
                        </div><!-- .nk-block-head-content -->

                    </div><!-- .nk-block-between -->
                </div><!-- .nk-block-head -->
                <div class="nk-block">
                    <div class="card card-bordered">
                        <div class="card-inner">
                            {{events}}

                            {{credentials}}

                            <div id='calendar'></div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- content @e -->

<div id="mydata">
    {{ meets|json_script:"room-name"}}
</div>


<script>


    const mydata = JSON.parse(document.getElementById('mydata').textContent);
    console.log(mydata)

    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            events: [
                {
                    id: 'a',
                    title: 'my event',
                    start: '2021-12-11',
                    end: '2021-12-12'
                }
            ],
            initialView: 'dayGridMonth',
        });
        calendar.render();
    });

</script>

{% endblock %}